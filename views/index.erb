<!DOCTYPE html >
<html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->  <!--<![endif]-->
    <body>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>ToDo</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
 
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <link rel="stylesheet" href="styles/styles.css">
        <script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
     
     
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->
        <!-- Add your site or application content here -->
        <div id="container">
            <section id="taskforms" class="clearfix">
                <div id="newtaskform" class="floatleft fifty">
                    <h2>Create a New Task</h2>
                    <form id="addtask" data-bind="submit: addTask">
                        <input data-bind="value: newTaskDesc">
                        <input type="submit">
                    </form>
                </div>
                <div id="tasksearchform" class="floatright fifty">
                    <h2>Search Tasks</h2>
                    <form id="searchtask">
                        <input data-bind="value: query, valueUpdate: 'keyup', event : { keyup : search}">
                    </form>
                </div>
            </section>
            <section id="tasktable">
                <h2>Incomplete Tasks remaining: <span data-bind="text: incompleteTasks().length"></span></h2>
                <a data-bind="click: removeAllComplete, visible: completeTasks().length > 0">Delete All Complete Tasks</a>
                <table>
                    <tbody><tr>
                        <th data-bind="click: function(){ sort('id') }">ID</th>
                        <th data-bind="click: function(){ sort('description') }">Description</th>
                        <th data-bind="click: function(){ sort('created_at') }">Date Added</th>
                        <th data-bind="click: function(){ sort('updated_at') }">Date Modified</th>
                        <th>Complete?</th>
                        <th>Delete</th>
                    </tr>
                    <!-- ko foreach: tasks -->
                    <tr data-bind="css: { 'complete': complete }, visible: isvisible">
                        <td data-bind="text: id"></td>
                        <td data-bind="text: description"></td>
                        <td data-bind="text: $root.dateFormat(created_at())"></td>
                        <td data-bind="text: $root.dateFormat(updated_at())"></td>
                        <td> <input type="checkbox" data-bind="checked: complete, click: $parent.markAsComplete"></td>
                        <td class="destroytask" data-bind="click: $parent.destroyTask"><a>X</a></td>
                    </tr>
                    <!-- /ko -->
                </tbody></table>
            </section>
        </div>
 
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="http://code.jquery.com/jquery-1.10.2.min.js"><\/script>')</script>
        <script src="/scripts/knockout-3.0.0.js"></script>
        <script src="/scripts/app.js"></script>

    </body>
</html>